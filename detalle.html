{% extends 'base.html' %}
{% load static %}
{% block content %}

<div class="container py-5">
    <div class="row">
        <!-- Columna de imagen -->
        <div class="col-md-4 col-sm-6 mb-4">
            <div class="detalle-imagen-container">
                {% if juego.destacado %}
                    <span class="badge-destacado-detalle">‚òÖ DESTACADO</span>
                {% endif %}
                <img src="{% static juego.imagen %}" 
                     alt="{{ juego.nombre }}" 
                     class="img-fluid detalle-imagen"
                     onerror="this.onerror=null; this.src='/static/img/default.png'">
            </div>
        </div>
        
        <!-- Columna de informaci√≥n -->
        <div class="col-md-7">
            <h1 class="detalle-titulo">{{ juego.nombre }}</h1>
            
            <div class="detalle-consola-badge">
                {{ juego.get_consola_display }}
            </div>
            
            {% if juego.genero %}
<h5 class="mb-3 genero-texto">
    <strong>G√©nero:</strong> {{ juego.genero }}
</h5>
{% endif %}

            
            
            {% if juego.descripcion %}
            <div class="detalle-descripcion">
                <h5>Descripci√≥n</h5>
                <p>{{ juego.descripcion }}</p>
                <p>Este juego esta disponible en:</p>
                <p>Metodo PRIMARIO: Jugas en tu usuario personal, una vez instalado no necesita WiFi</p>
                <p>Metodo SECUNDARIO: Jugas desde el usuario entregado, siempre conectado a WiFi</p>
                <p>Contas con 1 a√±o de garant√≠a con todos los juegos</p>
                <p>Descuento exclusivo √∫nicamente en transferencia!</p>
            </div>
            {% endif %}
            
            <!-- Precios -->
            <div class="detalle-precios">
                <div class="precio-actual">
                    ${{ juego.precio|floatformat:0 }}
                </div>
                {% if juego.recargo > 0 %}
                <div class="precio-recargo">
                    ${{ juego.recargo|floatformat:0 }} 
                </div>
                {% endif %}
            </div>
            
            <!-- Stock -->
            {% if juego.stock > 0 %}
            <div class="alert alert-success">
                <strong>‚úì Disponible</strong> ({{ juego.stock }} unidades en stock)
            </div>
            {% else %}
            <div class="alert alert-warning">
                <strong>‚ö† Sin stock</strong> - Consult√° disponibilidad
            </div>
            {% endif %}
            
            <!-- M√©todos de pago -->
            <div class="detalle-metodos-pago">
                <h5>M√©todos de pago aceptados</h5>
                <div class="metodos-iconos">
                    <span class="metodo-pago">üíµ Efectivo</span>
                    <span class="metodo-pago">üè¶ Transferencia</span>
                    <span class="metodo-pago">üí≥ Tarjeta de Credito/Debito</span>
                </div>
            </div>
            
            <!-- Botones de acci√≥n -->
            <div class="detalle-acciones mt-4">
                <a href="https://wa.me/5491151594477?text=Hola!%20Me%20interesa%20el%20{{ juego.nombre|urlencode }}" 
                   class="btn btn-success btn-lg" target="_blank">
                    <i class="fa-brands fa-whatsapp"> </i> Consultar por WhatsApp
                </a>
                <a href="{% url 'catalogo:ps4' %}" class="btn btn-outline-secondary btn-lg">
                    ‚Üê Volver al cat√°logo
                </a>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.precio-actual, .precio-recargo').forEach(function(el) {
        let precio = el.textContent.replace('$', '').trim();
        el.textContent = '$' + parseInt(precio).toLocaleString('es-AR');
    });
});


</script>

{% endblock %}